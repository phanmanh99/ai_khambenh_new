<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Huấn luyện </title>
    <!-- Favicon icon -->
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.png">
    <link href="/css/style.css" rel="stylesheet">
    <style>
        table,tr,th, td {
            border: 1px solid black;
        }
    </style>

</head>

<body>

    <!--*******************
        Preloader start
    ********************-->
    <div id="preloader">
        <div class="sk-three-bounce">
            <div class="sk-child sk-bounce1"></div>
            <div class="sk-child sk-bounce2"></div>
            <div class="sk-child sk-bounce3"></div>
        </div>
    </div>
    <!--*******************
        Preloader end
    ********************-->


    <!--**********************************
        Main wrapper start
    ***********************************-->
    <div id="main-wrapper">
        <!--**********************************
            Header start
        ***********************************-->
        <%- include('layout/header'); %>
        <!--**********************************
            Header end
        ***********************************-->

        <!--**********************************
            Sidebar start
        ***********************************-->
        <%- include('layout/sidebar'); %>
        <!--**********************************
            Sidebar end
        ***********************************-->

        <!--**********************************
            Content body start
        ***********************************-->
        <div class="content-body">
            <div class="container-fluid">
                <div class="row page-titles mx-0">
                    <div class="col-sm-6 p-md-0">
                        <div class="welcome-text">
                            <h4>Huấn luyện</h4>
                            <p class="mb-1">Huấn luyện mô hình</p>
                        </div>
                    </div>
                    <div class="col-sm-6 p-md-0 justify-content-sm-end mt-2 mt-sm-0 d-flex">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a href="javascript:void(0)">Trang chủ</a></li>
                            <li class="breadcrumb-item active"><a href="javascript:void(0)">Huấn luyện</a></li>
                        </ol>
                    </div>
                </div>
                <!-- row -->
                <div class="row">
                    <div class="col-lg-12">
                        <div class="card">
                            <div class="card-header">
                                <h2 class="card-title">Cập nhật mô hình</h2>
                            </div>
                            <div class="card-body">
                                <div class="form-validation row justify-content-around">
                                    <form class="form-valide col col-4 border border-dark rounded border-right-5" action="/admin/traning/upload0" method="POST" enctype="multipart/form-data">
                                        <div class="row justify-content-center"><h5>Ảnh thường</h5></div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="form-group row justify-content-center">
                                                    <div class="col-lg-8">
                                                        <input type="file" class="form-control-file" id="input-files" name="file" multiple>
                                                      </div>
                                                </div>
                                                <div class="form-group row justify-content-center">
                                                    <div class="col-lg-8 ml-auto">
                                                        <button type="submit" class="btn btn-primary">Cập nhật ảnh</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                    <form class="form-valide col col-4 border border-dark rounded border-right-5" action="/admin/traning/upload1" method="POST" enctype="multipart/form-data">
                                        <div class="row justify-content-center"><h5>Ảnh viêm phổi</h5></div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="form-group row justify-content-center">
                                                    <div class="col-lg-8">
                                                        <input type="file" class="form-control-file" id="input-files" name="file" multiple>
                                                      </div>
                                                </div>
                                                <div class="form-group row justify-content-center">
                                                    <div class="col-lg-8 ml-auto">
                                                        <button type="submit" class="btn btn-primary">Cập nhật ảnh</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </form>
                                </div>

                                <div>
                                    <h3 class="d-flex justify-content-center" ><br>Dữ liệu huấn luyện</h3><br>
                                    <table class="table table-bordered text-dark text-center" >
                                        <tr class="table-primary">
                                            <th>Tên</th>
                                            <th>Số lượng</th>
                                            <th>Số ảnh thường</th>
                                            <th>Số ảnh viêm phổi</th>                                                
                                        </tr>
                                        <tr>
                                            <td>Tổng</td>
                                            <td>5.840</td>
                                            <td>1.575</td>
                                            <td>4.265</td>
                                        </tr>
                                        <tr>
                                            <td>Dữ liệu huấn luyện</td>
                                            <td>5.216</td>
                                            <td>1.341</td>
                                            <td>3.875</td>
                                        </tr>
                                        <tr>
                                            <td>Dữ liệu kiểm tra</td>
                                            <td>624</td>
                                            <td>234</td>
                                            <td>390</td>
                                        </tr>                                       
                                    </table>                        
                                </div>

                                <div>
                                    <h3 class="d-flex justify-content-center" ><br>Mô hình huấn luyện</h3><br>
                                    <table class="table table-bordered text-dark text-center">                                 
                                            <tr class="table-primary">
                                                <th>Tên mô hình</th>
                                                <th>Độ chính xác</th>
                                                <th>AUC</th>
                                                <th>Kích cỡ(MB)</th>
                                            </tr>    
                                            <tr>
                                                <td>Model_Vgg16</td>
                                                <td>92.75%</td>
                                                <td>91.15%</td>
                                                <td>28.2MB</td>
                                            </tr>
                                            <tr>
                                                <td>Model_Cnn</td>
                                                <td>65.50%</td>
                                                <td>64.53%</td>
                                                <td>111.4MB</td>
                                            </tr>
                                            <tr>
                                                <td>Model_Resnet</td>
                                                <td>73.37%</td>
                                                <td>0.5%</td>
                                                <td>283.3MB</td>
                                            </tr> 
                                            <tr>
                                                <td>Model_InceptionNet</td>
                                                <td>83.65% </td>
                                                <td>80.24%</td>
                                                <td>283.3MB</td>
                                            </tr> 
                                            <tr>
                                                <td>Model_DenseNet</td>
                                                <td>88.94%</td>
                                                <td>85.98%</td>
                                                <td>32MB</td>
                                            </tr> 

                                    </table>                        
                                </div>

                                <div class="d-flex justify-content-center">
                                    <button type="submit" class="btn btn-primary" id="train" data-toggle="modal" data-target="#basicModal">Tạo mô hình mới</button>
                                </div>

                                <!-- Modal -->
                                <div class="modal fade" id="basicModal">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <div class="spinner-border text-primary" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                                  <div class="spinner-border text-secondary" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                                  <div class="spinner-border text-success" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                                  <div class="spinner-border text-danger" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                                  <div class="spinner-border text-warning" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                                  <div class="spinner-border text-info" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                                  <div class="spinner-border text-light" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                                  <div class="spinner-border text-dark" role="status">
                                                    <span class="sr-only">Loading...</span>
                                                  </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--**********************************
            Content body end
        ***********************************-->


        <!--**********************************
            Footer start
        ***********************************-->
        <%- include('layout/footer'); %>
        <!--**********************************
            Footer end
        ***********************************-->

        <!--**********************************
           Support ticket button start
        ***********************************-->

        <!--**********************************
           Support ticket button end
        ***********************************-->


    </div>
    <!--**********************************
        Main wrapper end
    ***********************************-->

    <!--**********************************
        Scripts
    ***********************************-->

    <!-- Required vendors -->
    <script src="/vendor/global/global.min.js"></script>
    <script src="/js/quixnav-init.js"></script>
    <script src="/js/custom.min.js"></script>
    



    <!-- Jquery Validation -->
    <script src="/vendor/jquery-validation/jquery.validate.min.js"></script>
    <!-- Form validate init -->
    <!-- <script src="/js/plugins-init/jquery.validate-init.js"></script> -->

    <script>
      $(document).ready(function() {
        let imagesPreview = function(input, placeToInsertImagePreview) {
          if (input.files) {
            let filesAmount = input.files.length;
            for (i = 0; i < filesAmount; i++) {
              let reader = new FileReader();
              reader.onload = function(event) {
                $($.parseHTML("<img class = 'col-lg-8'>"))
                  .attr("src", event.target.result)
                  .appendTo(placeToInsertImagePreview);
              };
              reader.readAsDataURL(input.files[i]);
            }
          }
        };
        $("#input-files").on("change", function() {
          imagesPreview(this, "div.preview-images");
        });

        $("#train").click(function(){
                // $(this).hide();
                if (confirm("You want to create new model?"))
                    window.location.href = window.location.origin + "/admin/traning/train";
                    // alert(this.value)
            });
      });
    </script>

</body>

</html>